syntax = "proto3";

package micro;

service MicroPaymentService {
  rpc StreamPayments(stream PaymentRequest) returns (stream PaymentResponse);
}

message PaymentRequest {
  string session_id = 1;
  int32 amount_cents = 2; // сумма в копейках
}

message PaymentResponse {
  bool success = 1;
  int32 total_charged = 2; // всего оплачено в копейках
  int32 remaining_hold = 3; // остаток холда
}